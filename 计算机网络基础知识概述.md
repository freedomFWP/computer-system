该文章为[此文](https://baijiahao.baidu.com/s?id=1620169126251822734&wfr=spider&for=pc)的笔记版，后续会针对各个部分进行详细补充。
@[TOC]

物理层、数据链路层、网络层、运输层、应用层
# 一、物理层
## 1.通信方式
单工、半双工、双工
## 2.带通调制
# 二、数据链路层
为同一链路的主机提供数据传输服务，封装成帧。
## 1.基本问题
1.封装成帧：网络层传下来的分组添加首部和尾部，用以标记帧的开始和结束。
2.透明传输：当帧中数据含有和首尾相同的内容时，防止帧开始与结束位置误判，会在该数据出现与首尾部分相同内容前加转义字符。
3.差错检测：循环冗余校验（CRC）
## 2.信道分类
1.广播信道：一对多通信，需专门的控制方法（一个是信道复用一个是CSMA/CD协议）来协调，避免冲突。
2.点对点信道：一对一通信，不会发生碰撞，使用PPP协议控制。
## 3.信道复用技术
1.频分复用：同一时间占用不同频率带宽资源，信道利用率不高
2.时分复用：不同时间占用相同频率带宽资源，信道利用率不高
3.统计时分复用：不固定每个用户在时分复用帧中的位置，只在有数据时集中起来组成统计时分复用帧然后发送。
4.波分复用：光的频分复用
5.码分复用：发送数据量是原先的M倍（码片为Mbit）
## 4.CSMA/CD协议
Carrier sense multiple access/collision detection:载波监听多点接入/冲突检测
多点接入：总线型网络；载波监听：每个主机不停的监听信道；冲突检测：截断二进制指数退避算法
## 5.PPP协议（point to point protocol）
用户计算机和ISP进行通信时使用的数据链路层协议。
## 6. MAC地址
链路层地址，长度为6个字节（48位），用于唯一标识网络适配器（网卡）。
## 7.局域网
典型的广播信道，主要有以以太网、令牌环网、FDDI和ATM等局域网技术。
## 8.以太网
星型拓扑结构局域网
## 9.交换机
具有自学习能力，学习交换表中内容，交换表存储MAC地址到接口的映射。
## 10.虚拟局域网
VLAN
# 三、网络层
为主机提供数据传输服务，封住分组。IP协议配套使用协议：
ARP: Address Resolution Protocol地址解析协议
ICMP: Internet Control Message Protocol 网络控制报文协议
IGMP: Internet Group Management Protocol 网络组管理协议
## 1.IP数据报格式

## 2.IP地址编址方式
1.分类：IP地址=网络号+主机号
2.子网划分：主机号中拿出一部分作为子网号， IP地址=网络号+子网号+主机号。使用子网要配置子网掩码，外部网络看不到子网的存在。
3.无分类（CIDR）：IP地址=网络前缀号+主机号
## 3.地址解析协议ARP
实现由IP地址得到MAC地址。
## 4.网络控制报文协议ICMP
封装在IP数据报中，但不属于高层协议，用以更有效地转发IP数据报和提高交付成功的机会。报文分为差错报文和询问报文。
1.Ping：ICMP的一个重要应用，用以测试两台主机之间的连通性。
2.Traceroute：用以跟踪一个分组从源点到终点的路径。
## 5.虚拟专用网VPN 
## 6.网络地址转换ANT
用以将本地IP转换为全球IP
## 7.路由器
1.结构：从功能上划分为：路由选择和分组转发；分组转发组成部分：交换结构、一组输入端口、一组输出端口。
2.路由器分组转发流程：
3.路由选择协议：自适应的，自治系统内部：RIP和OSPF；自治系统间：BGP
# 四、传输层
网络层只把分组发送给目的主机，但通信的不是主机而是主机的进程，传输层提供进程间的逻辑通信。
## 1.TCP与UDP的特点
TCP（Transmission Control Protocol传输控制协议）：面向连接，只能是一对一，提供可靠交付，面向字节流；
UDP（User Datagram Protocol 用户数据报协议）：无连接，支持一对一，一对多，多对多等交互通信，无拥塞控制，面向报文。
## 2.TCP的三次握手
防止失效的连接请求到达服务器，让服务器错误的打开连接。
## 3.TCP的四次挥手
客户端发送FIN连接释放报文后，服务器收到报文进入CLOSE-WAIT状态，保证服务器端发送还未传送完毕的数据，传送完毕后，服务器会发送FIN连接释放报文。
## 4.TCP可靠性
超时重传机制
## 5.TCP滑动窗口
用以暂时存放字节流，属于缓存的一部分。
## 6.TCP流量控制
保证接收方来得及接收
## 7.TCP拥塞控制
慢开始、拥塞避免、快重传、快恢复
# 五、应用层
## 1.域名系统
DNS是一个分布式数据库，提供主机名和IP地址之间相互转换的服务。域名具有层次结构，从上到下依次为：根域名、顶级域名、二级域名。
## 2.文件传输协议（FTP）
使用TCP进行连接，需要依靠控制连接和数据连接连个连接传送一个文件。根据数据连接是否是服务器主动建立，有分为主动连接和被动连接。主动连接：服务器主动建立连接，需要客户端开放端口号，并配合防火墙；被动连接：客户端主动建立连接，服务器端要开放端口号，无需客户端配置防火墙，此情况会因服务器开放过多端口号导致服务器端安全性减弱。
## 3.动态主机配置协议（DHCP）
提供了即插即用的联网方式，无需手动配置IP地址等信息。
## 4.远程登录协议（TELNET）
## 5.电子邮件协议
由三部分组成：用户代理、邮件服务器以及邮件协议。发送协议：SMTP，读取协议常用POP3和IMAP。
